<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IO Hunter: Identity Reveal v5.1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Prompt', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .cyber-bg {
            background-color: #0f172a;
            background-image: linear-gradient(rgba(56, 189, 248, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(56, 189, 248, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.75);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body class="cyber-bg text-slate-200 min-h-screen">

    <!-- Navbar -->
    <nav class="border-b border-slate-700/50 bg-slate-900/80 backdrop-blur sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-id-card-clip text-blue-500 animate-pulse"></i>
                <h1 class="font-bold text-lg tracking-wide text-white">
                    IO_HUNTER <span class="text-[10px] bg-blue-900 text-blue-200 px-1 rounded">v5.1</span>
                </h1>
            </div>
            <div class="text-[10px] font-mono text-slate-400 hidden sm:block">
                MODULE: <span class="text-blue-400">IDENTITY_REVEAL</span>
            </div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-4 py-10">

        <!-- STEP 1: INPUT -->
        <section id="input-section" class="transition-all duration-500">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-white mb-2">‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</h2>
                <p class="text-slate-400 text-sm max-w-lg mx-auto">
                    ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á <span class="text-blue-400 font-bold">‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span> ‡∏à‡∏≤‡∏Å URL 
                    ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏±‡∏ö‡πÄ‡∏à‡∏ï‡∏ô‡∏≤‡∏õ‡∏¥‡∏î‡∏ö‡∏±‡∏á
                </p>
            </div>

            <div class="glass-card max-w-xl mx-auto p-2 rounded-xl flex gap-2 shadow-2xl shadow-blue-900/20">
                <input type="text" id="target-url" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå Facebook / X / TikTok..." 
                    class="flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 text-white focus:ring-2 focus:ring-blue-500 outline-none font-mono text-sm placeholder-slate-600">
                <button onclick="startAnalysis()" 
                    class="bg-blue-600 hover:bg-blue-500 text-white font-bold px-6 py-3 rounded-lg transition-all flex items-center gap-2 shadow-lg shadow-blue-600/30">
                    <i class="fa-solid fa-magnifying-glass"></i> SCAN
                </button>
            </div>
        </section>

        <!-- STEP 2: LOGS -->
        <section id="logs-section" class="hidden max-w-2xl mx-auto my-8">
            <div class="bg-black/90 rounded-lg p-4 font-mono text-xs h-40 overflow-y-auto border-l-2 border-blue-500 shadow-inner" id="terminal">
                <!-- Logs injected here -->
            </div>
        </section>

        <!-- STEP 3: RESULT DASHBOARD -->
        <section id="result-section" class="hidden opacity-0 transition-opacity duration-700">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
                
                <!-- Left: Identity & Tech Status -->
                <div class="md:col-span-5">
                    <div class="glass-card p-0 rounded-xl h-full flex flex-col items-center text-center relative overflow-hidden">
                        
                        <!-- Status Bar -->
                        <div id="status-bar" class="w-full h-1.5 bg-gray-600"></div>

                        <div class="p-6 w-full flex flex-col items-center">
                            
                            <!-- Image Display -->
                            <div class="relative w-32 h-32 mb-4 group">
                                <img id="profile-img" src="" class="w-full h-full rounded-full object-cover border-4 border-slate-700 hidden shadow-xl">
                                
                                <!-- Icons for states -->
                                <div id="icon-platform-block" class="hidden w-full h-full rounded-full bg-slate-800 flex items-center justify-center border-4 border-yellow-600/50 shadow-inner">
                                    <i class="fa-brands fa-facebook-f text-4xl text-yellow-500"></i>
                                    <div class="absolute bottom-0 right-0 bg-yellow-600 text-black text-[10px] font-bold px-2 rounded-full border border-slate-900">BLOCKED</div>
                                </div>
                                
                                <div id="icon-privacy-lock" class="hidden w-full h-full rounded-full bg-slate-800 flex items-center justify-center border-4 border-red-600/50 shadow-inner">
                                    <i class="fa-solid fa-user-secret text-4xl text-red-500"></i>
                                    <div class="absolute bottom-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 rounded-full border border-slate-900">HIDDEN</div>
                                </div>

                                <div id="icon-visible" class="hidden absolute bottom-0 right-0 bg-green-500 text-black text-[10px] font-bold px-2 rounded-full border border-white shadow-lg">
                                    OPEN
                                </div>
                            </div>

                            <!-- NEW: Identity Name Display -->
                            <div class="mb-4 w-full">
                                <h2 id="target-name" class="text-xl font-bold text-white truncate px-2 drop-shadow-md">Loading...</h2>
                                <p class="text-[10px] text-slate-500 font-mono tracking-widest uppercase mt-1">TARGET IDENTITY</p>
                            </div>

                            <!-- Technical Diagnosis Box -->
                            <div class="w-full bg-slate-800/50 p-3 rounded-lg text-left space-y-2 mb-4 border border-slate-700/50">
                                <div class="flex justify-between text-xs">
                                    <span class="text-slate-400">Data Signal:</span>
                                    <span id="api-status" class="font-mono font-bold">...</span>
                                </div>
                                <div class="flex justify-between text-xs">
                                    <span class="text-slate-400">Image Access:</span>
                                    <span id="img-load-status" class="font-mono font-bold">...</span>
                                </div>
                                <div class="h-px bg-slate-700 my-2"></div>
                                <p id="diagnosis-text" class="text-xs leading-relaxed text-slate-300">
                                    Waiting for diagnosis...
                                </p>
                            </div>

                            <!-- External Verify Link -->
                            <a id="ext-link" href="#" target="_blank" class="w-full py-2 bg-slate-700 hover:bg-slate-600 rounded text-xs text-blue-200 transition mb-2 flex items-center justify-center gap-2">
                                <i class="fa-solid fa-arrow-up-right-from-square"></i> ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                            </a>

                            <!-- Manual Upload -->
                            <div id="manual-upload" class="hidden w-full">
                                <label class="block w-full text-center py-2 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded cursor-pointer text-xs text-gray-400 transition">
                                    <i class="fa-solid fa-camera mr-1"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
                                    <input type="file" class="hidden" accept="image/*" onchange="manualUpload(this)">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Analysis Form -->
                <div class="md:col-span-7">
                    <div class="glass-card p-6 rounded-xl h-full flex flex-col">
                        <div class="flex justify-between items-start mb-6 pb-4 border-b border-slate-700/50">
                            <div>
                                <h3 class="text-xl font-bold text-white">‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°</h3>
                                <p class="text-xs text-slate-400 mt-1">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Base Score) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</p>
                            </div>
                            <div class="text-right">
                                <div class="text-[10px] text-slate-500 uppercase tracking-wider">Base Risk</div>
                                <div id="base-score-display" class="text-3xl font-bold font-mono text-slate-300">0%</div>
                            </div>
                        </div>

                        <form id="verify-form" class="space-y-5 flex-1">
                            <!-- Q1 -->
                            <div>
                                <label class="text-xs text-blue-400 font-mono block mb-1.5 font-bold">1. ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏´‡πá‡∏ô (Visual Check)</label>
                                <select id="q1" class="w-full bg-slate-900 border border-slate-700 text-slate-300 text-sm rounded-lg p-3 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                                    <option value="0">‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏Ñ‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô / ‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</option>
                                    <option value="20">üåÑ ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ß‡∏¥‡∏ß / ‡∏Å‡∏≤‡∏£‡πå‡∏ï‡∏π‡∏ô / ‡∏™‡∏±‡∏ï‡∏ß‡πå</option>
                                    <option value="30">‚õîÔ∏è ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ / ‡∏£‡∏π‡∏õ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ / ‡∏£‡∏π‡∏õ AI</option>
                                </select>
                            </div>

                            <!-- Q2 -->
                            <div>
                                <label class="text-xs text-blue-400 font-mono block mb-1.5 font-bold">2. ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ô‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå (Content)</label>
                                <select id="q2" class="w-full bg-slate-900 border border-slate-700 text-slate-300 text-sm rounded-lg p-3 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                                    <option value="0">üçµ ‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß)</option>
                                    <option value="30">üì¢ ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏•‡πâ‡∏ß‡∏ô / ‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏±‡∏ß‡πÜ</option>
                                    <option value="40">üîí ‡∏•‡πá‡∏≠‡∏Ñ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå (Private) / ‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô</option>
                                </select>
                            </div>

                            <!-- Q3 -->
                            <div>
                                <label class="text-xs text-blue-400 font-mono block mb-1.5 font-bold">3. ‡∏õ‡∏è‡∏¥‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Interaction)</label>
                                <select id="q3" class="w-full bg-slate-900 border border-slate-700 text-slate-300 text-sm rounded-lg p-3 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all">
                                    <option value="0">üó£ ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</option>
                                    <option value="30">ü§ñ ‡∏Å‡πâ‡∏≤‡∏ß‡∏£‡πâ‡∏≤‡∏ß / ‡πÅ‡∏õ‡∏∞‡∏£‡∏π‡∏õ‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥‡πÜ</option>
                                    <option value="30">üëª ‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏Å‡∏£‡∏¥‡∏ö / ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏ö</option>
                                </select>
                            </div>
                        </form>

                        <button onclick="calculateFinal()" class="mt-8 w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-900/50 transform transition active:scale-[0.98]">
                            ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á (CALCULATE)
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- RESULT MODAL -->
        <div id="verdict-modal" class="fixed inset-0 bg-black/90 z-[60] hidden flex items-center justify-center p-4 backdrop-blur-sm">
            <div class="glass-card p-8 rounded-2xl max-w-sm w-full text-center border-t-4 shadow-2xl" id="modal-border">
                <div class="relative w-40 h-40 mx-auto mb-4">
                    <canvas id="chart"></canvas>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <span id="final-score" class="text-5xl font-bold text-white tracking-tighter drop-shadow-lg">0%</span>
                    </div>
                </div>
                <h2 id="final-title" class="text-2xl font-black mb-2 text-white uppercase tracking-wide">Analyzing...</h2>
                <div class="h-1 w-16 bg-slate-700 mx-auto mb-4 rounded-full"></div>
                <p id="final-desc" class="text-xs text-slate-400 mb-8 leading-relaxed font-mono">...</p>
                <button onclick="location.reload()" class="w-full border border-slate-600 text-slate-400 hover:text-white hover:border-white px-6 py-3 rounded-lg text-xs font-mono transition uppercase font-bold tracking-widest">
                    <i class="fa-solid fa-rotate-right mr-2"></i> New Scan
                </button>
            </div>
        </div>

    </main>

    <script>
        // --- VARIABLES ---
        let baseRisk = 0;
        let technicalState = "UNKNOWN"; 

        // --- 1. ANALYSIS ENGINE ---
        async function startAnalysis() {
            const url = document.getElementById('target-url').value;
            if(!url) return;

            // UI Transition
            document.getElementById('input-section').classList.add('hidden');
            document.getElementById('logs-section').classList.remove('hidden');
            const logs = document.getElementById('terminal');
            logs.innerHTML = '';

            const log = (msg, color='text-slate-400') => {
                logs.innerHTML += `<div class="${color} mb-1 border-l-2 border-transparent pl-2 hover:border-slate-600 transition-colors"><span class="opacity-50 mr-2">[LOG]</span>${msg}</div>`;
                logs.scrollTop = logs.scrollHeight;
            };

            await log("Initializing connection protocol...", "text-blue-400");
            await new Promise(r => setTimeout(r, 600));

            let metaImage = null;
            let metaTitle = "";
            
            try {
                await log(`Targeting URL: ${url.substring(0,30)}...`);
                // Microlink API to fetch metadata
                const res = await fetch(`https://api.microlink.io/?url=${encodeURIComponent(url)}`);
                const data = await res.json();
                
                if(data.status === 'success') {
                    metaImage = data.data.image ? data.data.image.url : null;
                    metaTitle = data.data.title || "Unknown Target"; // Capture Title
                    await log(`Identity found: "${metaTitle}"`, "text-green-300");
                    await log("Metadata handshake: SUCCESS", "text-green-400");
                } else {
                    throw new Error("API Fail");
                }
            } catch (e) {
                await log("Metadata extraction: FAILED / TIMEOUT", "text-red-400");
                metaTitle = "Unknown Target";
            }

            // DECISION LOGIC
            if (metaImage) {
                await log("Image detected. Verifying render access...");
                const img = new Image();
                img.src = metaImage;
                
                img.onload = () => {
                    technicalState = "VISIBLE";
                    baseRisk = 0;
                    updateUI(metaImage, metaTitle); // Pass Title
                };
                
                img.onerror = () => {
                    technicalState = "PLATFORM_BLOCK";
                    baseRisk = 15;
                    updateUI(null, metaTitle); // Pass Title even if image fails
                };
            } else {
                technicalState = "PRIVACY_LOCK";
                baseRisk = 50;
                updateUI(null, metaTitle || "Private/Hidden Profile");
            }
        }

        // --- 2. UI UPDATER ---
        function updateUI(imgSrc, titleName) {
            const resSec = document.getElementById('result-section');
            document.getElementById('logs-section').classList.add('hidden');
            resSec.classList.remove('hidden');
            setTimeout(() => resSec.classList.remove('opacity-0'), 50);

            // Elements
            const diagText = document.getElementById('diagnosis-text');
            const apiStat = document.getElementById('api-status');
            const imgStat = document.getElementById('img-load-status');
            const bar = document.getElementById('status-bar');
            const extLink = document.getElementById('ext-link');
            const manualUp = document.getElementById('manual-upload');
            const nameDisplay = document.getElementById('target-name');

            // Set Name & Link
            nameDisplay.innerText = titleName;
            extLink.href = document.getElementById('target-url').value;

            // State Handling
            if (technicalState === "VISIBLE") {
                document.getElementById('profile-img').src = imgSrc;
                document.getElementById('profile-img').classList.remove('hidden');
                document.getElementById('icon-visible').classList.remove('hidden');
                
                apiStat.innerHTML = "<span class='text-green-400'>FOUND</span>";
                imgStat.innerHTML = "<span class='text-green-400'>SUCCESS</span>";
                diagText.innerHTML = "‡∏ö‡∏±‡∏ç‡∏ä‡∏µ <span class='text-green-400'>Public</span> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏Å‡∏±‡πâ‡∏ô";
                bar.className = "w-full h-1.5 bg-green-500 shadow-[0_0_10px_#22c55e]";
                
                document.getElementById('q1').value = "0";

            } else if (technicalState === "PLATFORM_BLOCK") {
                document.getElementById('icon-platform-block').classList.remove('hidden');
                manualUp.classList.remove('hidden');

                apiStat.innerHTML = "<span class='text-green-400'>FOUND</span>";
                imgStat.innerHTML = "<span class='text-yellow-500'>BLOCKED</span>";
                diagText.innerHTML = "‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ï‡πà‡∏£‡∏π‡∏õ‡πÇ‡∏î‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å (Technical Block) <span class='text-yellow-400'>‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</span> ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏≠‡∏á";
                bar.className = "w-full h-1.5 bg-yellow-500 shadow-[0_0_10px_#eab308]";
                
                document.getElementById('q1').value = "20";

            } else {
                document.getElementById('icon-privacy-lock').classList.remove('hidden');
                manualUp.classList.remove('hidden');

                apiStat.innerHTML = "<span class='text-red-400'>MISSING</span>";
                imgStat.innerHTML = "<span class='text-slate-600'>N/A</span>";
                diagText.innerHTML = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏î‡πÜ ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ <span class='text-red-400'>Private Profile</span> ‡πÄ‡∏à‡∏ï‡∏ô‡∏≤‡∏õ‡∏Å‡∏õ‡∏¥‡∏î";
                bar.className = "w-full h-1.5 bg-red-600 shadow-[0_0_10px_#dc2626]";
                
                document.getElementById('q1').value = "30";
            }

            // Score Display
            const scoreDisp = document.getElementById('base-score-display');
            scoreDisp.innerText = baseRisk + "%";
            scoreDisp.className = `text-3xl font-bold font-mono ${baseRisk === 0 ? 'text-green-400' : (baseRisk === 15 ? 'text-yellow-400' : 'text-red-400')}`;
        }

        // --- 3. MANUAL UPLOAD ---
        function manualUpload(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById('profile-img');
                    img.src = e.target.result;
                    img.classList.remove('hidden');
                    
                    document.getElementById('icon-platform-block').classList.add('hidden');
                    document.getElementById('icon-privacy-lock').classList.add('hidden');
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // --- 4. FINAL CALCULATION ---
        function calculateFinal() {
            let total = baseRisk;
            total += parseInt(document.getElementById('q1').value);
            total += parseInt(document.getElementById('q2').value);
            total += parseInt(document.getElementById('q3').value);

            let finalPercent = Math.min(total, 99);
            showVerdict(finalPercent);
        }

        function showVerdict(score) {
            const modal = document.getElementById('verdict-modal');
            const border = document.getElementById('modal-border');
            const title = document.getElementById('final-title');
            const desc = document.getElementById('final-desc');
            const num = document.getElementById('final-score');
            
            modal.classList.remove('hidden');

            let color, textTitle, textDesc, borderColor;
            
            if (score >= 70) {
                color = '#ef4444';
                borderColor = 'border-red-600';
                textTitle = "HIGH RISK (I/O)";
                textDesc = "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ + ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏° ‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏à‡∏±‡∏î‡∏ï‡∏±‡πâ‡∏á";
            } else if (score >= 40) {
                color = '#eab308';
                borderColor = 'border-yellow-500';
                textTitle = "SUSPICIOUS";
                textDesc = "‡∏ô‡πà‡∏≤‡∏™‡∏á‡∏™‡∏±‡∏¢: ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≥‡∏Å‡∏∂‡πà‡∏á ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°";
            } else {
                color = '#22c55e';
                borderColor = 'border-green-500';
                textTitle = "LIKELY ORGANIC";
                textDesc = "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥: ‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Organic User)";
            }

            border.className = `glass-card p-8 rounded-2xl max-w-sm w-full text-center border-t-4 shadow-2xl ${borderColor}`;
            title.innerText = textTitle;
            title.style.color = color;
            desc.innerText = textDesc;
            num.innerText = score + "%";
            num.style.color = color;

            new Chart(document.getElementById('chart'), {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [score, 100-score],
                        backgroundColor: [color, 'rgba(255,255,255,0.05)'],
                        borderWidth: 0,
                        cutout: '85%'
                    }]
                },
                options: { responsive: true, events: [] }
            });
        }
    </script>
</body>
</html>
